# ğŸš€ XReader å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ç«‹å³å¼€å§‹å¼€å‘

### 1. åˆ›å»ºé¡¹ç›®
```bash
# åˆ›å»ºFlutteré¡¹ç›®
flutter create xreader --platforms android,ios

# è¿›å…¥é¡¹ç›®ç›®å½•
cd xreader

# æ£€æŸ¥Flutterç¯å¢ƒ
flutter doctor
```

### 2. é…ç½®ä¾èµ–
å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ° `pubspec.yaml`ï¼š

```yaml
name: xreader
description: æç®€ç”µå­ä¹¦é˜…è¯»å™¨

publish_to: 'none'

version: 1.0.0+1

environment:
  sdk: '>=3.0.0 <4.0.0'
  flutter: ">=3.10.0"

dependencies:
  flutter:
    sdk: flutter
  
  # çŠ¶æ€ç®¡ç†
  riverpod: ^2.4.9
  flutter_riverpod: ^2.4.9
  
  # æ•°æ®åº“
  isar: ^3.1.0+1
  isar_flutter_libs: ^3.1.0+1
  
  # æ–‡ä»¶å¤„ç†
  path_provider: ^2.1.1
  file_picker: ^6.1.1
  
  # ç”µå­ä¹¦è§£æ
  epubx: ^4.0.0
  syncfusion_flutter_pdfviewer: ^23.2.7
  
  # UIç»„ä»¶
  flutter_screenutil: ^5.9.0
  google_fonts: ^6.1.0
  
  # åŠ¨ç”»
  animations: ^2.0.8

dev_dependencies:
  flutter_test:
    sdk: flutter
  build_runner: ^2.4.7
  isar_generator: ^3.1.0+1
  flutter_lints: ^3.0.1

flutter:
  uses-material-design: true
  
  assets:
    - assets/images/
    - assets/icons/
```

### 3. å®‰è£…ä¾èµ–
```bash
flutter pub get
```

### 4. åˆ›å»ºåŸºç¡€é¡¹ç›®ç»“æ„
```bash
# åœ¨libç›®å½•ä¸‹åˆ›å»ºä»¥ä¸‹ç»“æ„
mkdir -p lib/core/{constants,themes,utils,services}
mkdir -p lib/features/{bookshelf,reader,settings}
mkdir -p lib/shared/{widgets,models}
mkdir -p lib/data/{repositories,datasources,models}

# åˆ›å»ºèµ„æºç›®å½•
mkdir -p assets/{images,icons}
```

### 5. ç¬¬ä¸€å¤©å¼€å‘ä»»åŠ¡

#### ä»»åŠ¡1ï¼šé…ç½®åº”ç”¨ä¸»é¢˜
åˆ›å»º `lib/core/themes/app_theme.dart`ï¼š

```dart
import 'package:flutter/material.dart';
import 'package:google_fonts/google_fonts.dart';

class AppTheme {
  // é¢œè‰²å®šä¹‰
  static const Color primaryBlue = Color(0xFF4A90E2);
  static const Color backgroundColor = Color(0xFFFFFFFF);
  static const Color creamBackground = Color(0xFFFAF3E0);
  static const Color darkBackground = Color(0xFF1E1E1E);
  static const Color blackBackground = Color(0xFF000000);
  static const Color textDark = Color(0xFF222222);
  static const Color textGray = Color(0xFF666666);
  static const Color forestGreen = Color(0xFF2E3D34);

  // æ˜äº®ä¸»é¢˜
  static ThemeData get lightTheme {
    return ThemeData(
      useMaterial3: true,
      brightness: Brightness.light,
      primarySwatch: _createMaterialColor(primaryBlue),
      scaffoldBackgroundColor: backgroundColor,
      cardColor: Colors.white,
      appBarTheme: AppBarTheme(
        backgroundColor: Colors.transparent,
        elevation: 0,
        iconTheme: IconThemeData(color: textDark),
        titleTextStyle: GoogleFonts.notoSansSC(
          color: textDark,
          fontSize: 22,
          fontWeight: FontWeight.w500,
        ),
      ),
      textTheme: TextTheme(
        displayLarge: GoogleFonts.sourceSerif4(
          color: textDark,
          fontSize: 32,
          fontWeight: FontWeight.bold,
        ),
        bodyLarge: GoogleFonts.sourceSerif4(
          color: textDark,
          fontSize: 18,
          height: 1.6,
        ),
        bodyMedium: GoogleFonts.notoSansSC(
          color: textDark,
          fontSize: 16,
        ),
        labelMedium: GoogleFonts.notoSansSC(
          color: textGray,
          fontSize: 14,
        ),
      ),
      bottomNavigationBarTheme: BottomNavigationBarThemeData(
        backgroundColor: Colors.white,
        selectedItemColor: primaryBlue,
        unselectedItemColor: textGray,
        elevation: 8,
      ),
    );
  }

  // å¤œé—´ä¸»é¢˜
  static ThemeData get darkTheme {
    return ThemeData(
      useMaterial3: true,
      brightness: Brightness.dark,
      primarySwatch: _createMaterialColor(primaryBlue),
      scaffoldBackgroundColor: blackBackground,
      cardColor: darkBackground,
      appBarTheme: AppBarTheme(
        backgroundColor: Colors.transparent,
        elevation: 0,
        iconTheme: IconThemeData(color: Colors.white),
        titleTextStyle: GoogleFonts.notoSansSC(
          color: Colors.white,
          fontSize: 22,
          fontWeight: FontWeight.w500,
        ),
      ),
      textTheme: TextTheme(
        displayLarge: GoogleFonts.sourceSerif4(
          color: Colors.white,
          fontSize: 32,
          fontWeight: FontWeight.bold,
        ),
        bodyLarge: GoogleFonts.sourceSerif4(
          color: Colors.white,
          fontSize: 18,
          height: 1.6,
        ),
        bodyMedium: GoogleFonts.notoSansSC(
          color: Colors.white,
          fontSize: 16,
        ),
        labelMedium: GoogleFonts.notoSansSC(
          color: Colors.white70,
          fontSize: 14,
        ),
      ),
      bottomNavigationBarTheme: BottomNavigationBarThemeData(
        backgroundColor: darkBackground,
        selectedItemColor: primaryBlue,
        unselectedItemColor: Colors.white70,
        elevation: 8,
      ),
    );
  }

  static MaterialColor _createMaterialColor(Color color) {
    List strengths = <double>[.05];
    Map<int, Color> swatch = <int, Color>{};
    final int r = color.red, g = color.green, b = color.blue;

    for (int i = 1; i < 10; i++) {
      strengths.add(0.1 * i);
    }
    for (var strength in strengths) {
      final double ds = 0.5 - strength;
      swatch[(strength * 1000).round()] = Color.fromRGBO(
        r + ((ds < 0 ? r : (255 - r)) * ds).round(),
        g + ((ds < 0 ? g : (255 - g)) * ds).round(),
        b + ((ds < 0 ? b : (255 - b)) * ds).round(),
        1,
      );
    }
    return MaterialColor(color.value, swatch);
  }
}
```

#### ä»»åŠ¡2ï¼šåˆ›å»ºåº”ç”¨å…¥å£
æ›´æ–° `lib/main.dart`ï¼š

```dart
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:flutter_screenutil/flutter_screenutil.dart';
import 'core/themes/app_theme.dart';
import 'app.dart';

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // åˆå§‹åŒ–æ•°æ®åº“ç­‰æœåŠ¡
  // await DatabaseService.initialize();
  
  runApp(
    ProviderScope(
      child: MyApp(),
    ),
  );
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return ScreenUtilInit(
      designSize: Size(375, 812), // iPhone Xå°ºå¯¸ä½œä¸ºè®¾è®¡ç¨¿
      minTextAdapt: true,
      splitScreenMode: true,
      builder: (context, child) {
        return MaterialApp(
          title: 'XReader',
          debugShowCheckedModeBanner: false,
          theme: AppTheme.lightTheme,
          darkTheme: AppTheme.darkTheme,
          themeMode: ThemeMode.system,
          home: AppNavigator(),
        );
      },
    );
  }
}
```

#### ä»»åŠ¡3ï¼šåˆ›å»ºä¸»å¯¼èˆª
åˆ›å»º `lib/app.dart`ï¼š

```dart
import 'package:flutter/material.dart';
import 'package:flutter_screenutil/flutter_screenutil.dart';

class AppNavigator extends StatefulWidget {
  @override
  _AppNavigatorState createState() => _AppNavigatorState();
}

class _AppNavigatorState extends State<AppNavigator> {
  int _currentIndex = 0;

  final List<Widget> _pages = [
    BookshelfPage(),
    ReadingHistoryPage(),
    SettingsPage(),
  ];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: IndexedStack(
        index: _currentIndex,
        children: _pages,
      ),
      bottomNavigationBar: BottomNavigationBar(
        currentIndex: _currentIndex,
        onTap: (index) {
          setState(() {
            _currentIndex = index;
          });
        },
        type: BottomNavigationBarType.fixed,
        items: [
          BottomNavigationBarItem(
            icon: Icon(Icons.library_books_outlined),
            activeIcon: Icon(Icons.library_books),
            label: 'ä¹¦æ¶',
          ),
          BottomNavigationBarItem(
            icon: Icon(Icons.history_outlined),
            activeIcon: Icon(Icons.history),
            label: 'å†å²',
          ),
          BottomNavigationBarItem(
            icon: Icon(Icons.settings_outlined),
            activeIcon: Icon(Icons.settings),
            label: 'è®¾ç½®',
          ),
        ],
      ),
    );
  }
}

// ä¸´æ—¶é¡µé¢ï¼Œåç»­ä¼šæ›¿æ¢
class BookshelfPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Books'),
        actions: [
          IconButton(
            icon: Icon(Icons.add_circle_outline),
            onPressed: () {
              ScaffoldMessenger.of(context).showSnackBar(
                SnackBar(content: Text('æ·»åŠ ä¹¦ç±åŠŸèƒ½å¼€å‘ä¸­...')),
              );
            },
          ),
        ],
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Icon(
              Icons.library_books,
              size: 64.sp,
              color: Theme.of(context).primaryColor,
            ),
            SizedBox(height: 16.h),
            Text(
              'æš‚æ— ä¹¦ç±',
              style: Theme.of(context).textTheme.bodyLarge,
            ),
            SizedBox(height: 8.h),
            Text(
              'ç‚¹å‡»å³ä¸Šè§’ + å·æ·»åŠ ä¹¦ç±',
              style: Theme.of(context).textTheme.labelMedium,
            ),
          ],
        ),
      ),
    );
  }
}

class ReadingHistoryPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('é˜…è¯»å†å²')),
      body: Center(
        child: Text('é˜…è¯»å†å²é¡µé¢å¼€å‘ä¸­...'),
      ),
    );
  }
}

class SettingsPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('è®¾ç½®')),
      body: Center(
        child: Text('è®¾ç½®é¡µé¢å¼€å‘ä¸­...'),
      ),
    );
  }
}
```

### 6. è¿è¡Œé¡¹ç›®
```bash
# è¿è¡Œåœ¨æ¨¡æ‹Ÿå™¨æˆ–çœŸæœºä¸Š
flutter run

# æˆ–è€…æŒ‡å®šå¹³å°
flutter run -d android
flutter run -d ios
```

### 7. ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

ç¬¬ä¸€å‘¨å®Œæˆï¼š
- âœ… é¡¹ç›®åŸºç¡€æ¶æ„
- âœ… ä¸»é¢˜ç³»ç»Ÿ
- âœ… ä¸»å¯¼èˆªæ¡†æ¶
- ğŸ“‹ æ•°æ®åº“è®¾è®¡
- ğŸ“‹ æ–‡ä»¶æœåŠ¡
- ğŸ“‹ åŸºç¡€ç»„ä»¶åº“

---

## ğŸ”§ å¼€å‘å·¥å…·é…ç½®

### VS Codeæ¨èæ’ä»¶
```json
{
  "recommendations": [
    "dart-code.dart-code",
    "dart-code.flutter",
    "alexisvt.flutter-snippets",
    "nash.awesome-flutter-snippets",
    "luanpotter.dart-import",
    "ricardoemerson.create-flutter-widgets-and-classes"
  ]
}
```

### Android Studioæ’ä»¶
- Flutter
- Dart
- Flutter Inspector
- Flutter Enhancement Suite

---

## ğŸ“Š ç¬¬ä¸€å‘¨é‡Œç¨‹ç¢‘æ£€æŸ¥

- [ ] é¡¹ç›®æˆåŠŸåˆ›å»ºå¹¶è¿è¡Œ
- [ ] ä¸»é¢˜ç³»ç»Ÿæ­£å¸¸å·¥ä½œï¼ˆæ˜æš—ä¸»é¢˜åˆ‡æ¢ï¼‰
- [ ] åº•éƒ¨å¯¼èˆªæ­£å¸¸åˆ‡æ¢
- [ ] å±å¹•é€‚é…æ­£å¸¸ï¼ˆä¸åŒè®¾å¤‡å°ºå¯¸ï¼‰
- [ ] ä»£ç ç»“æ„æ¸…æ™°ï¼Œç¬¦åˆè®¾è®¡ç†å¿µ

å®Œæˆè¿™äº›åŸºç¡€è®¾ç½®åï¼Œä½ å°±å¯ä»¥å¼€å§‹æŒ‰ç…§ã€Šå¼€å‘æµç¨‹è®¡åˆ’.mdã€‹ä¸­çš„è¯¦ç»†è®¡åˆ’é€æ­¥å¼€å‘å„ä¸ªåŠŸèƒ½æ¨¡å—äº†ï¼

æ¯ä¸ªé˜¶æ®µå®Œæˆåï¼Œè®°å¾—è¿›è¡Œä»£ç reviewå’ŒåŠŸèƒ½æµ‹è¯•ï¼Œç¡®ä¿è´¨é‡ã€‚